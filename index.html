<!DOCTYPE html>
<html>
  


  <title> Invision </title>
  <meta charset="utf-8">
  <link rel="stylesheet" href="style.css">
  <link rel = "shortcut icon" href = "/assets/favicon.ico">
  <meta name = "viewport" content = "with=device-width, initial-scale=1.0">
  <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel = "stylesheet">
  
  
  <body>
    

    <h1>Invision</h1>

    <button class = "menu_dropper" id ="dropper" onclick = "this.style.visibility= 'hidden'; toggleNav()" >
      <span class = "material-icons">list</span>
    </button>
    <div class= "navbar">


      <a href = "#" class = "navbar__link" onclick = "dropper.style.visibility= 'visible'; toggleNav()" >
        <span class = "material-icons">close</span>Close
        </a>
      <a href = "#" class = "navbar__link">
        <span class = "material-icons">home</span>home
        </a>

      <a href = "#" class = "navbar__link">
        <span class = "material-icons">login</span>Login
        </a>

      <a href = "#" class = "navbar__link">
        <span class = "material-icons">photo_library</span>Photos
        </a>
    
       <a href = "#" class = "navbar__link" id = "send">
        <span class = "material-icons">get_app</span>Upload photo
       
        </a>




    <script>
    function toggleNav(){
      document.querySelector(".navbar").classList.toggle("navbar--open");

      
    }

    src="./renderer.js"
    
    </script>

<script>
  import { initializeApp } from "firebase/app";
  import { getAnalytics } from "firebase/analytics";
</script>

<script src="https://www.gstatic.com/firebasejs/7.13.1/firebase-app.js"></script>
<script src="https://www.gstatic.com/firebasejs/7.13.1/firebase-storage.js"></script>

<script>
  // Firebase Configuration
  var firebaseConfig = {
  apiKey: "AIzaSyDynn0-w2p597bU6lQ-3c1F-3tn70-HQd0",
  authDomain: "invision-87460.firebaseapp.com",
  databaseURL: "https://invision-87460.appspot.com",
  projectId: "invision-87460",
  storageBucket: "invision-87460.appspot.com",
  messagingSenderId: "787564970319",
  appId: "1:787564970319:web:dd6a0e28081df14bf3453a",
  };

  const app = initializeApp(firebaseConfig);
  const analytics = getAnalytics(app);

</script>

<script>
  var files = [];
  document.getElementById("files").addEventListener("change", function(e) {
      files = e.target.files;
  });
</script>

<script>
  document.getElementById("send").addEventListener("click", function() {
      //checks if files are selected
      if (files.length != 0) {

          //Loops through all the selected files
          for (let i = 0; i < files.length; i++) {

              //create a storage reference
              var storage = firebase.storage().ref(files[i].name);
          
              //upload file
              var upload = storage.put(files[i]);
          
              //update progress bar
              upload.on(
                  "state_changed",
                  function progress(snapshot) {
                      var percentage =
                          (snapshot.bytesTransferred / snapshot.totalBytes) * 100;
                      document.getElementById("progress").value = percentage;
                  },
          
                  function error() {
                      alert("Error Uploading File");
                  },
          
                  function complete() {
                      document.getElementById(
                          "Uploading"
                      ).innerHTML += `${files[i].name} Uploaded <br />`;
                  }
              );
          }
      } else {
          alert("No file chosen");
      }
  });
</script>

<script>
  function getFileUrl(filename) {
      //create a storage reference
      var storage = firebase.storage().ref(filename);
      
      //get file url
      storage
          .getDownloadURL()
          .then(function(url) {
          console.log(url);
          })
          .catch(function(error) {
          console.log("Error Encountered");
          });
  }
</script>



<script>
    
  function changeBg(){
      const images = [
          'url("4.png")',
          'url("5.png")',
          'url("6.png")',
          'url("7.png")',
          'url("8.png")',
          'url("9.png")',
          'url("10.png")',
          'url("11.png")',
      ]
      const body = document.querySelector('body')
      const bg = images [Math.floor(Math.random() * images.length)];
      body.style.backgroundImage= bg;
  }

  setInterval(changeBg, 8000)
</script>
  </body>
</html>
